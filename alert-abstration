// components/StatusColumn.tsx
import React from 'react';
import { AppPopover } from './AppPopover';
import { shouldShowPopover, getPopoverType, getPopoverContent } from '../utils/popoverHelpers';

interface StatusColumnProps {
  status: string;
  children: React.ReactNode;
  placement?: 'top' | 'bottom' | 'left' | 'right';
  size?: 'small' | 'large';
  title?: string; // Prop opcional para customizar título
  text?: string;  // Prop opcional para customizar texto
}

export const StatusColumn: React.FC<StatusColumnProps> = ({ 
  status, 
  children, 
  placement = 'top',
  size = 'small',
  title, // Props customizáveis
  text   // Props customizáveis
}) => {
  const showPopover = shouldShowPopover(status);
  
  if (!showPopover) {
    return <>{children}</>;
  }
  
  const popoverType = getPopoverType(status);
  const defaultContent = getPopoverContent(status);
  
  // Usa props customizadas ou fallback para o padrão
  const finalTitle = title || defaultContent?.title;
  const finalText = text || defaultContent?.text;
  
  return (
    <AppPopover
      type={popoverType}
      title={finalTitle}
      text={finalText}
      placement={placement}
      size={size}
    >
      {children}
    </AppPopover>
  );
};
